(this.webpackJsonpairqualityapp=this.webpackJsonpairqualityapp||[]).push([[0],{114:function(e,t){},162:function(e,t,n){e.exports=n(192)},187:function(e,t){},191:function(e,t,n){},192:function(e,t,n){"use strict";n.r(t);var o=n(9),r=n.n(o),a=n(138),i=n.n(a),c=(n(167),n(104)),l=n(2),s=n(1),u=n(6),d=n(5),f=n(7),v=n(205),p=n(203),h=n(143),m=n(115),g=n(107),b=(n(121),n(140)),y=n.n(b),w={longitude:117.2264,latitude:31.8257,zoom:4,maxZoom:16,minZoom:3,pitch:60,bearing:5},E=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this))).state={},n.state={data:[],render:!1},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.title="Corona spread viz",y.a.get("https://coronavirus-tracker-api.herokuapp.com/v2/locations").then((function(t){if(200!==t.status||null==t)throw new Error("no data available");e.setState({data:t.data.locations})})).catch((function(e){return console.log(e),[]}))}},{key:"renderTooltip",value:function(){var e=this.state||{},t=e.hoveredObject,n=e.pointerX,o=e.pointerY,a=e.dataType;return t&&r.a.createElement("div",{className:"data-hover",style:{position:"absolute",zIndex:1e3,pointerEvents:"none",left:n,top:o}},r.a.createElement("ul",{className:"hoveredObjectData"},t.country!==t.province&&r.a.createElement("li",null,r.a.createElement("span",null,t.province)),r.a.createElement("li",null,r.a.createElement("span",null,t.country)),"recovered"===a&&r.a.createElement("li",{style:{color:"green"}}," total recovered(confirmed): ",t.recovered),"confirmed"===a&&r.a.createElement("li",{style:{color:"orange"}}," total infections(confirmed): ",t.confirmed),"deaths"===a&&r.a.createElement("li",{style:{color:"red"}}," total  deaths(confirmed): ",t.deaths)))}},{key:"render",value:function(){var e=this,t=this.state.data.map((function(e){return{recovered:e.latest.recovered,deaths:e.latest.deaths,confirmed:e.latest.confirmed,province:e.province,country:e.country,coordinates:[parseFloat(e.coordinates.longitude),parseFloat(e.coordinates.latitude)]}})).filter((function(e){return e.recovered>0||e.deaths>0||e.confirmed>0})),n=Object(m.a)([0,10],[0,40]),o=Object(m.a)([0,10],[0,50]),a=[new v.a(Object(c.a)({id:"column-layer",data:t,dataTransform:function(e){return e.locations.filter((function(e){return e.deaths>=0}))}},this.props,{pickable:!0,extruded:!0,transitions:{getElevation:{duration:2e3,easing:g.a,enter:function(e){return[10]}}},getPosition:function(e){return e.coordinates},diskResolution:100,radius:1e4,offset:[1,0],elevationScale:50,getFillColor:function(e){return[0,129,0*e.recovered,255]},getElevation:function(e){return n(e.recovered)},onHover:function(t){return e.setState({hoveredObject:t.object,dataType:"recovered",pointerX:t.x,pointerY:t.y})}})),new v.a(Object(c.a)({id:"column-layer-2",data:t},this.props,{pickable:!0,extruded:!0,transitions:{getElevation:{duration:2e3,easing:g.a,enter:function(e){return[60]}}},getPosition:function(e){return e.coordinates},diskResolution:100,radius:1e4,offset:[5,3],elevationScale:50,getFillColor:function(e){return[255,0,0*e.deaths,255]},getElevation:function(e){return o(e.deaths)},onHover:function(t){return e.setState({hoveredObject:t.object,dataType:"deaths",pointerX:t.x,pointerY:t.y})}})),new v.a(Object(c.a)({id:"column-layer-3",data:t},this.props,{pickable:!0,extruded:!0,transitions:{getElevation:{duration:2e3,easing:g.a,enter:function(e){return[10]}}},getPosition:function(e){return e.coordinates},diskResolution:100,radius:1e4,offset:[3,1],elevationScale:50,getFillColor:function(e){return[255,165,0*e.confirmed,255]},getElevation:function(e){return n(e.confirmed)},onHover:function(t){return e.setState({hoveredObject:t.object,dataType:"confirmed",pointerX:t.x,pointerY:t.y})}}))];return r.a.createElement("div",null,r.a.createElement(p.a,{layers:a,initialViewState:w,controller:!0},r.a.createElement(h.a,{mapStyle:"mapbox://styles/ugur222/ck74tfdlm22dm1in0t5zxxvgq",mapboxApiAccessToken:"pk.eyJ1IjoidWd1cjIyMiIsImEiOiJjazZvOXVibW8wMHR3M21xZnE0cjZhbHI0In0.aCGjvePsRwkvQyNBjUEkaw"}),this.renderTooltip.bind(this)))}}]),t}(r.a.Component),j=(n(191),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function k(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(E,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/CoronaVirus",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/CoronaVirus","/service-worker.js");j?(!function(e,t){fetch(e).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):k(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):k(t,e)}))}}()}},[[162,1,2]]]);
//# sourceMappingURL=main.72ae6ae3.chunk.js.map